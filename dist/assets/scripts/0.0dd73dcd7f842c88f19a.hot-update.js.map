{"version":3,"sources":["webpack:///./app/blocks/tab/tab.js?cc02"],"names":["tab","$","target","tabs","on","hash","removeAttr","location","setTimeout","update","attr","targets","map","get","panels","join","each","data","id","window","indexOf","show","removeClass","filter","addClass","btnClose","offset","closest","scrollTop","top","addEventListener","jQuery"],"mappings":";;;;;;;;;;;AAAA;;;;;;AAEA,KAAMA,MAAO,UAASC,CAAT,EAAY;AACvB;AACD;AACA,MAAIC,SAAS,IAAb;;AAEA;AACA,MAAIC,OAAOF,EAAE,sBAAF,EAA0BG,EAA1B,CAA6B,OAA7B,EAAsC,YAAY;AAC5DF,YAASD,EAAE,KAAKI,IAAP,EAAaC,UAAb,CAAwB,IAAxB,CAAT;AACA,OAAIC,SAASF,IAAT,KAAkB,KAAKA,IAA3B,EAAiC;AAChCG,eAAWC,MAAX;AACA;AACD,GALU,EAKRC,IALQ,CAKH,UALG,EAKS,GALT,CAAX;;AAOA;AACA,MAAIC,UAAUR,KAAKS,GAAL,CAAS,YAAY;AAClC,UAAO,KAAKP,IAAZ;AACA,GAFa,EAEXQ,GAFW,EAAd;;AAIA;AACA,MAAIC,SAASb,EAAEU,QAAQI,IAAR,CAAa,GAAb,CAAF,EAAqBC,IAArB,CAA0B,YAAY;AAClD;AACAf,KAAE,IAAF,EAAQgB,IAAR,CAAa,QAAb,EAAuB,KAAKC,EAA5B;AACA,GAHY,CAAb;;AAKA,WAAST,MAAT,GAAkB;AACjB,OAAIP,MAAJ,EAAY;AACXA,WAAOQ,IAAP,CAAY,IAAZ,EAAkBR,OAAOe,IAAP,CAAY,QAAZ,CAAlB;AACAf,aAAS,IAAT;AACA;;AAED,OAAIG,OAAOc,OAAOZ,QAAP,CAAgBF,IAA3B;AACA,OAAIM,QAAQS,OAAR,CAAgBf,IAAhB,MAA0B,CAAC,CAA/B,EAAkC;AACjC,WAAOgB,KAAKhB,IAAL,CAAP;AACA;;AAED;AACA;AACA,OAAI,CAACA,IAAL,EAAW;AACVgB;AACA;AACD;;AAED,WAASA,IAAT,CAAcH,EAAd,EAAkB;AACjB;AACA,OAAI,CAACA,EAAL,EAAS,CAER;AADA;;AAED;AACA;AACAf,QAAKmB,WAAL,CAAiB,uBAAjB,EAA0CZ,IAA1C,CAA+C,eAA/C,EAAgE,OAAhE,EAAyEa,MAAzE,CAAgF,YAAY;AAC3F,WAAQ,KAAKlB,IAAL,KAAca,EAAtB;AACA,IAFD,EAEGM,QAFH,CAEY,uBAFZ,EAEqCd,IAFrC,CAE0C,eAF1C,EAE2D,MAF3D;;AAIA;AACA;AACAI,UAAOQ,WAAP,CAAmB,qBAAnB,EAA0CZ,IAA1C,CAA+C,aAA/C,EAA8D,MAA9D,EAAsEa,MAAtE,CAA6EL,EAA7E,EAAiFM,QAAjF,CAA0F,qBAA1F,EAAiHd,IAAjH,CAAsH,aAAtH,EAAqI,OAArI;AACA;;AAED,MAAIe,WAAWxB,EAAE,aAAF,CAAf;;AAEAwB,WAASrB,EAAT,CAAY,OAAZ,EAAqB,YAAU;AAC9B;AACA;AACA;AACA,OAAMsB,SAASzB,EAAE,IAAF,EAAQ0B,OAAR,CAAgB,MAAhB,EAAwBD,MAAxB,EAAf;AACAP,UAAOZ,QAAP,CAAgBF,IAAhB,GAAuB,EAAvB;AACAgB,QAAK,EAAL;AACApB,KAAEkB,MAAF,EAAUS,SAAV,CAAoBF,OAAOG,GAA3B;AACA,GARD;;AAUAV,SAAOW,gBAAP,CAAwB,YAAxB,EAAsCrB,MAAtC;;AAEA;AACA,MAAIE,QAAQS,OAAR,CAAgBD,OAAOZ,QAAP,CAAgBF,IAAhC,MAA0C,CAAC,CAA/C,EAAkD;AACjDI;AACA,GAFD,MAEO;AACNY;AACA;AAED,EA/EW,CA+ETU,MA/ES,CAAZ;;mBAiFe/B,G","file":"0.0dd73dcd7f842c88f19a.hot-update.js","sourcesContent":["import $ from 'jquery';\r\n\r\nconst tab = (function($) {\r\n\t\t/*global $*/\r\n\t// a temp value to cache *what* we're about to show\r\n\tvar target = null;\r\n\r\n\t// collect all the tabs\r\n\tvar tabs = $('.tab .tab__head-item').on('click', function () {\r\n\t\ttarget = $(this.hash).removeAttr('id');\r\n\t\tif (location.hash === this.hash) {\r\n\t\t\tsetTimeout(update);\r\n\t\t}\r\n\t}).attr('tabindex', '0');\r\n\r\n\t// get an array of the panel ids (from the anchor hash)\r\n\tvar targets = tabs.map(function () {\r\n\t\treturn this.hash;\r\n\t}).get();\r\n\r\n\t// use those ids to get a jQuery collection of panels\r\n\tvar panels = $(targets.join(',')).each(function () {\r\n\t\t// keep a copy of what the original el.id was\r\n\t\t$(this).data('old-id', this.id);\r\n\t});\r\n\r\n\tfunction update() {\r\n\t\tif (target) {\r\n\t\t\ttarget.attr('id', target.data('old-id'));\r\n\t\t\ttarget = null;\r\n\t\t}\r\n\t\r\n\t\tvar hash = window.location.hash;\r\n\t\tif (targets.indexOf(hash) !== -1) {\r\n\t\t\treturn show(hash);\r\n\t\t}\r\n\t\r\n\t\t// NOTE: this was added after the article was written\r\n\t\t// to fix going \"back\" on the browser nav to an empty state\r\n\t\tif (!hash) {\r\n\t\t\tshow();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction show(id) {\r\n\t\t// if no value was given, let's take the first panel\r\n\t\tif (!id) {\r\n\t\t\t// id = targets[0];\r\n\t\t}\r\n\t\t// remove the selected class from the tabs,\r\n\t\t// and add it back to the one the user selected\r\n\t\ttabs.removeClass('tab__head-item_active').attr('aria-selected', 'false').filter(function () {\r\n\t\t\treturn (this.hash === id);\r\n\t\t}).addClass('tab__head-item_active').attr('aria-selected', 'true');\r\n\r\n\t\t// now hide all the panels, then filter to\r\n\t\t// the one we're interested in, and show it\r\n\t\tpanels.removeClass('tab__content_active').attr('aria-hidden', 'true').filter(id).addClass('tab__content_active').attr('aria-hidden', 'false');\r\n\t}\r\n\r\n\tvar btnClose = $('.tab__close');\r\n\r\n\tbtnClose.on('click', function(){\r\n\t\t// console.log('this');\r\n\t\t// window.history.back();\r\n\t\t// update();\r\n\t\tconst offset = $(this).closest('.tab').offset();\r\n\t\twindow.location.hash = '';\r\n\t\tshow('');\r\n\t\t$(window).scrollTop(offset.top);\r\n\t});\r\n\r\n\twindow.addEventListener('hashchange', update);\r\n\r\n\t// initialise\r\n\tif (targets.indexOf(window.location.hash) !== -1) {\r\n\t\tupdate();\r\n\t} else {\r\n\t\tshow();\r\n\t}\r\n\r\n})(jQuery);\r\n\r\nexport default tab;\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/tab/tab.js"],"sourceRoot":""}