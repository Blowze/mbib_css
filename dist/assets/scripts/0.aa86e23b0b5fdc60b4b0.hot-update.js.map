{"version":3,"sources":["webpack:///./app/blocks/input/input.js?c571"],"names":["digitpretify","inputs","document","querySelectorAll","oldValue","oldCursor","regex","RegExp","mask","value","output","i","length","push","join","unmask","replace","checkSeparator","position","interval","Math","floor","keydownHandler","e","el","target","selectionEnd","inputHandler","newCursorPosition","newValue","match","setSelectionRange","forEach","input","addEventListener"],"mappings":";;;;;;;;;;AAAA,KAAMA,eAAe,SAAfA,YAAe,GAAM;AAC1B,OAAMC,SAASC,SAASC,gBAAT,CAA0B,sBAA1B,CAAf;AACG,OAAIC,iBAAJ;AACA,OAAIC,kBAAJ;AACA,OAAIC,QAAQ,IAAIC,MAAJ,CAAW,aAAX,CAAZ;AACA,OAAIC,OAAO,SAAPA,IAAO,CAASC,KAAT,EAAgB;AACzB,SAAIC,SAAS,EAAb;AACE,UAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,MAAMG,MAAzB,EAAiCD,GAAjC,EAAsC;AACpC,WAAGA,MAAM,CAAN,IAAWA,IAAI,CAAJ,KAAU,CAAxB,EAA2B;AACzBD,gBAAOG,IAAP,CAAY,GAAZ,EADyB,CACP;AACnB;AACDH,cAAOG,IAAP,CAAYJ,MAAME,CAAN,CAAZ;AACD;AACD,YAAOD,OAAOI,IAAP,CAAY,EAAZ,CAAP;AACH,IATD;AAUA,OAAIC,SAAS,SAATA,MAAS,CAASN,KAAT,EAAgB;AAC3B,SAAIC,SAASD,MAAMO,OAAN,CAAc,IAAIT,MAAJ,CAAW,OAAX,EAAoB,GAApB,CAAd,EAAwC,EAAxC,CAAb,CAD2B,CAC+B;AAC1D,YAAOG,MAAP;AACD,IAHD;AAIA,OAAIO,iBAAiB,SAAjBA,cAAiB,CAASC,QAAT,EAAmBC,QAAnB,EAA6B;AAChD,YAAOC,KAAKC,KAAL,CAAWH,YAAYC,WAAW,CAAvB,CAAX,CAAP;AACD,IAFD;AAGA,OAAIG,iBAAiB,SAAjBA,cAAiB,CAASC,CAAT,EAAY;AAC/B,SAAIC,KAAKD,EAAEE,MAAX;;AAEArB,gBAAWoB,GAAGf,KAAd;AACAJ,iBAAYmB,GAAGE,YAAf;AACD,IALD;AAMA,OAAIC,eAAe,SAAfA,YAAe,CAASJ,CAAT,EAAY;AAC7B,SAAIC,KAAKD,EAAEE,MAAX;AAAA,SACIG,iBADJ;AAAA,SAEIC,WAAWd,OAAOS,GAAGf,KAAV,CAFf;;AAKA,SAAGoB,SAASC,KAAT,CAAexB,KAAf,CAAH,EAA0B;AACxBuB,kBAAWrB,KAAKqB,QAAL,CAAX;;AAEAD,2BAAoBvB,YAAYY,eAAeZ,SAAf,EAA0B,CAA1B,CAAZ,GAA2CY,eAAeZ,aAAawB,SAASjB,MAAT,GAAkBR,SAASQ,MAAxC,CAAf,EAAgE,CAAhE,CAA3C,IAAiHG,OAAOc,QAAP,EAAiBjB,MAAjB,GAA0BG,OAAOX,QAAP,EAAiBQ,MAA5J,CAApB;;AAEA,WAAGiB,aAAa,EAAhB,EAAoB;AAClBL,YAAGf,KAAH,GAAWoB,QAAX;AACD,QAFD,MAEO;AACLL,YAAGf,KAAH,GAAW,EAAX;AACD;AACF,MAVD,MAUO;AACLe,UAAGf,KAAH,GAAWL,QAAX;AACAwB,2BAAoBvB,SAApB;AACD;AACDmB,QAAGO,iBAAH,CAAqBH,iBAArB,EAAwCA,iBAAxC;AACD,IArBD;;AAuBH3B,UAAO+B,OAAP,CAAe,UAACC,KAAD,EAAW;AACzBA,WAAMC,gBAAN,CAAuB,SAAvB,EAAkCZ,cAAlC;AACAW,WAAMC,gBAAN,CAAuB,OAAvB,EAAgCP,YAAhC;AACA,IAHD;AAIA,EAvDD;;mBAyDe3B,Y","file":"0.aa86e23b0b5fdc60b4b0.hot-update.js","sourcesContent":["const digitpretify = () => {\r\n\tconst inputs = document.querySelectorAll('.input_digit-pretify');\r\n    let oldValue;\r\n    let oldCursor;\r\n    let regex = new RegExp(/^\\d{0,16}$/g);\r\n    let mask = function(value) {\r\n      var output = [];\r\n        for(var i = 0; i < value.length; i++) {\r\n          if(i !== 0 && i % 3 === 0) {\r\n            output.push(\" \"); // add the separator\r\n          }\r\n          output.push(value[i]);\r\n        }\r\n        return output.join(\"\");\r\n    };\r\n    let unmask = function(value) {\r\n      var output = value.replace(new RegExp(/[^\\d]/, 'g'), ''); // Remove every non-digit character\r\n      return output;\r\n    };\r\n    let checkSeparator = function(position, interval) {\r\n      return Math.floor(position / (interval + 1));\r\n    };\r\n    let keydownHandler = function(e) {\r\n      var el = e.target;\r\n      \r\n      oldValue = el.value;\r\n      oldCursor = el.selectionEnd;\r\n    };\r\n    let inputHandler = function(e) {\r\n      var el = e.target,\r\n          newCursorPosition,\r\n          newValue = unmask(el.value)\r\n      ;\r\n      \r\n      if(newValue.match(regex)) {\r\n        newValue = mask(newValue);\r\n        \r\n        newCursorPosition = oldCursor - checkSeparator(oldCursor, 3) + checkSeparator(oldCursor + (newValue.length - oldValue.length), 3) + (unmask(newValue).length - unmask(oldValue).length);\r\n                \r\n        if(newValue !== \"\") {\r\n          el.value = newValue;\r\n        } else {\r\n          el.value = \"\";\r\n        }\r\n      } else {\r\n        el.value = oldValue;\r\n        newCursorPosition = oldCursor;\r\n      }\r\n      el.setSelectionRange(newCursorPosition, newCursorPosition);\r\n    };\r\n\r\n\tinputs.forEach((input) => {\r\n\t\tinput.addEventListener('keydown', keydownHandler);\r\n\t\tinput.addEventListener('input', inputHandler);\r\n\t})\r\n}\r\n\r\nexport default digitpretify;\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/input/input.js"],"sourceRoot":""}