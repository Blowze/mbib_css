{"version":3,"sources":["webpack:///./app/blocks/tab/tab.js?cc02"],"names":["tab","$","target","update","attr","data","hash","window","location","targets","indexOf","show","id","tabs","removeClass","filter","addClass","panels","on","removeAttr","setTimeout","map","get","join","each","btnClose","offset","closest","scrollTop","top","addEventListener"],"mappings":";;;;;;;;;;AAAA,KAAMA,MAAO,UAAUC,CAAV,EAAa;AACzB;AACA;AACA,MAAIC,SAAS,IAAb;;AAEA,WAASC,MAAT,GAAkB;AACjB,OAAID,MAAJ,EAAY;AACXA,WAAOE,IAAP,CAAY,IAAZ,EAAkBF,OAAOG,IAAP,CAAY,QAAZ,CAAlB;AACAH,aAAS,IAAT;AACA;;AAED,OAAMI,OAAOC,OAAOC,QAAP,CAAgBF,IAA7B;AACA,OAAIG,QAAQC,OAAR,CAAgBJ,IAAhB,MAA0B,CAAC,CAA/B,EAAkC;AACjC,WAAOK,KAAKL,IAAL,CAAP;AACA;;AAED;AACA;AACA,OAAI,CAACA,IAAL,EAAW;AACVK;AACA;AACD;;AAED,WAASA,IAAT,CAAcC,EAAd,EAAkB;AACjB;AACA,OAAI,CAACA,EAAL,EAAS,CAER;AADA;;AAED;AACA;AACAC,QAAKC,WAAL,CAAiB,uBAAjB,EAA0CV,IAA1C,CAA+C,eAA/C,EAAgE,OAAhE,EAAyEW,MAAzE,CAAgF,YAAY;AAC3F,WAAQ,KAAKT,IAAL,KAAcM,EAAtB;AACA,IAFD,EAEGI,QAFH,CAEY,uBAFZ,EAEqCZ,IAFrC,CAE0C,eAF1C,EAE2D,MAF3D;;AAIA;AACA;AACAa,UAAOH,WAAP,CAAmB,qBAAnB,EAA0CV,IAA1C,CAA+C,aAA/C,EAA8D,MAA9D,EAAsEW,MAAtE,CAA6EH,EAA7E,EAAiFI,QAAjF,CAA0F,qBAA1F,EAAiHZ,IAAjH,CAAsH,aAAtH,EAAqI,OAArI;AACA;;AAED;AACA,MAAMS,OAAOZ,EAAE,sBAAF,EAA0BiB,EAA1B,CAA6B,OAA7B,EAAsC,YAAY;AAC9DhB,YAASD,EAAE,KAAKK,IAAP,EAAaa,UAAb,CAAwB,IAAxB,CAAT;AACA,OAAIX,SAASF,IAAT,KAAkB,KAAKA,IAA3B,EAAiC;AAChCc,eAAWjB,MAAX;AACA;AACD,GALY,EAKVC,IALU,CAKL,UALK,EAKO,GALP,CAAb;;AAOA;AACA,MAAIK,UAAUI,KAAKQ,GAAL,CAAS,YAAY;AAClC,UAAO,KAAKf,IAAZ;AACA,GAFa,EAEXgB,GAFW,EAAd;;AAIA;AACA,MAAIL,SAAShB,EAAEQ,QAAQc,IAAR,CAAa,GAAb,CAAF,EAAqBC,IAArB,CAA0B,YAAY;AAClD;AACAvB,KAAE,IAAF,EAAQI,IAAR,CAAa,QAAb,EAAuB,KAAKO,EAA5B;AACA,GAHY,CAAb;;AAMA,MAAIa,WAAWxB,EAAE,aAAF,CAAf;;AAEAwB,WAASP,EAAT,CAAY,OAAZ,EAAqB,YAAY;AAChC;AACA;AACA,OAAMQ,SAASzB,EAAE,IAAF,EAAQ0B,OAAR,CAAgB,MAAhB,EAAwBD,MAAxB,EAAf;AACAnB,UAAOC,QAAP,CAAgBF,IAAhB,GAAuB,EAAvB;AACAK,QAAK,EAAL;AACAV,KAAEM,MAAF,EAAUqB,SAAV,CAAoBF,OAAOG,GAA3B;AACA,GAPD;;AASAtB,SAAOuB,gBAAP,CAAwB,YAAxB,EAAsC3B,MAAtC;;AAEA;AACA,MAAIM,QAAQC,OAAR,CAAgBH,OAAOC,QAAP,CAAgBF,IAAhC,MAA0C,CAAC,CAA/C,EAAkD;AACjD;AACA,GAFD,MAEO;AACNK;AACA;AACD,EA9EW,CA8ETV,CA9ES,CAAZ;;mBAgFeD,G","file":"0.8477ff85cf0aa04709cb.hot-update.js","sourcesContent":["const tab = (function ($) {\r\n\t// global $\r\n\t// a temp value to cache *what* we're about to show\r\n\tlet target = null;\r\n\r\n\tfunction update() {\r\n\t\tif (target) {\r\n\t\t\ttarget.attr('id', target.data('old-id'));\r\n\t\t\ttarget = null;\r\n\t\t}\r\n\r\n\t\tconst hash = window.location.hash;\r\n\t\tif (targets.indexOf(hash) !== -1) {\r\n\t\t\treturn show(hash);\r\n\t\t}\r\n\r\n\t\t// NOTE: this was added after the article was written\r\n\t\t// to fix going \"back\" on the browser nav to an empty state\r\n\t\tif (!hash) {\r\n\t\t\tshow();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction show(id) {\r\n\t\t// if no value was given, let's take the first panel\r\n\t\tif (!id) {\r\n\t\t\t// id = targets[0];\r\n\t\t}\r\n\t\t// remove the selected class from the tabs,\r\n\t\t// and add it back to the one the user selected\r\n\t\ttabs.removeClass('tab__head-item_active').attr('aria-selected', 'false').filter(function () {\r\n\t\t\treturn (this.hash === id);\r\n\t\t}).addClass('tab__head-item_active').attr('aria-selected', 'true');\r\n\r\n\t\t// now hide all the panels, then filter to\r\n\t\t// the one we're interested in, and show it\r\n\t\tpanels.removeClass('tab__content_active').attr('aria-hidden', 'true').filter(id).addClass('tab__content_active').attr('aria-hidden', 'false');\r\n\t}\r\n\r\n\t// collect all the tabs\r\n\tconst tabs = $('.tab .tab__head-item').on('click', function () {\r\n\t\ttarget = $(this.hash).removeAttr('id');\r\n\t\tif (location.hash === this.hash) {\r\n\t\t\tsetTimeout(update);\r\n\t\t}\r\n\t}).attr('tabindex', '0');\r\n\r\n\t// get an array of the panel ids (from the anchor hash)\r\n\tlet targets = tabs.map(function () {\r\n\t\treturn this.hash;\r\n\t}).get();\r\n\r\n\t// use those ids to get a jQuery collection of panels\r\n\tlet panels = $(targets.join(',')).each(function () {\r\n\t\t// keep a copy of what the original el.id was\r\n\t\t$(this).data('old-id', this.id);\r\n\t});\r\n\r\n\r\n\tlet btnClose = $('.tab__close');\r\n\r\n\tbtnClose.on('click', function () {\r\n\t\t// window.history.back();\r\n\t\t// update();\r\n\t\tconst offset = $(this).closest('.tab').offset();\r\n\t\twindow.location.hash = '';\r\n\t\tshow('');\r\n\t\t$(window).scrollTop(offset.top);\r\n\t});\r\n\r\n\twindow.addEventListener('hashchange', update);\r\n\r\n\t// initialise\r\n\tif (targets.indexOf(window.location.hash) !== -1) {\r\n\t\t// update();\r\n\t} else {\r\n\t\tshow();\r\n\t}\r\n})($);\r\n\r\nexport default tab;\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/tab/tab.js"],"sourceRoot":""}