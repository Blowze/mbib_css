{"version":3,"sources":["webpack:///./app/blocks/input/input.js?c571"],"names":["digitpretify","input","document","querySelector","oldValue","oldCursor","regex","RegExp","mask","value","output","i","length","push","join","unmask","replace","checkSeparator","position","interval","Math","floor","keydownHandler","e","el","target","selectionEnd","inputHandler","newCursorPosition","newValue","match","setSelectionRange","addEventListener"],"mappings":";;;;;;;;;;AAAA,KAAMA,eAAe,SAAfA,YAAe,GAAM;AAC1B,MAAIC,QAAQC,SAASC,aAAT,CAAuB,mBAAvB,CAAZ;AAAA,MACAC,QADA;AAAA,MAEAC,SAFA;AAAA,MAGAC,QAAQ,IAAIC,MAAJ,CAAW,aAAX,CAHR;AAAA,MAIAC,OAAO,SAAPA,IAAO,CAASC,KAAT,EAAgB;AACrB,OAAIC,SAAS,EAAb;AACD,QAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIF,MAAMG,MAAzB,EAAiCD,GAAjC,EAAsC;AACpC,QAAGA,MAAM,CAAN,IAAWA,IAAI,CAAJ,KAAU,CAAxB,EAA2B;AAC5BD,YAAOG,IAAP,CAAY,GAAZ,EAD4B,CACV;AAChB;AACDH,WAAOG,IAAP,CAAYJ,MAAME,CAAN,CAAZ;AACD;AACD,UAAOD,OAAOI,IAAP,CAAY,EAAZ,CAAP;AACA,GAbD;AAAA,MAcAC,SAAS,SAATA,MAAS,CAASN,KAAT,EAAgB;AACvB,OAAIC,SAASD,MAAMO,OAAN,CAAc,IAAIT,MAAJ,CAAW,OAAX,EAAoB,GAApB,CAAd,EAAwC,EAAxC,CAAb,CADuB,CACmC;AAC1D,UAAOG,MAAP;AACD,GAjBD;AAAA,MAkBAO,iBAAiB,SAAjBA,cAAiB,CAASC,QAAT,EAAmBC,QAAnB,EAA6B;AAC5C,UAAOC,KAAKC,KAAL,CAAWH,YAAYC,WAAW,CAAvB,CAAX,CAAP;AACD,GApBD;AAAA,MAqBAG,iBAAiB,SAAjBA,cAAiB,CAASC,CAAT,EAAY;AAC3B,OAAIC,KAAKD,EAAEE,MAAX;;AAEArB,cAAWoB,GAAGf,KAAd;AACAJ,eAAYmB,GAAGE,YAAf;AACD,GA1BD;AAAA,MA2BAC,eAAe,SAAfA,YAAe,CAASJ,CAAT,EAAY;AACzB,OAAIC,KAAKD,EAAEE,MAAX;AAAA,OACCG,iBADD;AAAA,OAECC,WAAWd,OAAOS,GAAGf,KAAV,CAFZ;;AAKA,OAAGoB,SAASC,KAAT,CAAexB,KAAf,CAAH,EAA0B;AAC3BuB,eAAWrB,KAAKqB,QAAL,CAAX;;AAEAD,wBAAoBvB,YAAYY,eAAeZ,SAAf,EAA0B,CAA1B,CAAZ,GAA2CY,eAAeZ,aAAawB,SAASjB,MAAT,GAAkBR,SAASQ,MAAxC,CAAf,EAAgE,CAAhE,CAA3C,IAAiHG,OAAOc,QAAP,EAAiBjB,MAAjB,GAA0BG,OAAOX,QAAP,EAAiBQ,MAA5J,CAApB;;AAEA,QAAGiB,aAAa,EAAhB,EAAoB;AAClBL,QAAGf,KAAH,GAAWoB,QAAX;AACD,KAFD,MAEO;AACLL,QAAGf,KAAH,GAAW,EAAX;AACD;AACC,IAVD,MAUO;AACRe,OAAGf,KAAH,GAAWL,QAAX;AACAwB,wBAAoBvB,SAApB;AACE;AACDmB,MAAGO,iBAAH,CAAqBH,iBAArB,EAAwCA,iBAAxC;AACD,GAhDD;;AAkDA3B,QAAM+B,gBAAN,CAAuB,SAAvB,EAAkCV,cAAlC;AACArB,QAAM+B,gBAAN,CAAuB,OAAvB,EAAgCL,YAAhC;AACA,EArDD;;mBAuDe3B,Y","file":"0.ff8391d9ddff37c10739.hot-update.js","sourcesContent":["const digitpretify = () => {\r\n\tvar input = document.querySelector('#credit-card-mask'),\r\n\toldValue,\r\n\toldCursor,\r\n\tregex = new RegExp(/^\\d{0,16}$/g),\r\n\tmask = function(value) {\r\n\t  var output = [];\r\n\t\tfor(var i = 0; i < value.length; i++) {\r\n\t\t  if(i !== 0 && i % 4 === 0) {\r\n\t\t\toutput.push(\" \"); // add the separator\r\n\t\t  }\r\n\t\t  output.push(value[i]);\r\n\t\t}\r\n\t\treturn output.join(\"\");\r\n\t},\r\n\tunmask = function(value) {\r\n\t  var output = value.replace(new RegExp(/[^\\d]/, 'g'), ''); // Remove every non-digit character\r\n\t  return output;\r\n\t},\r\n\tcheckSeparator = function(position, interval) {\r\n\t  return Math.floor(position / (interval + 1));\r\n\t},\r\n\tkeydownHandler = function(e) {\r\n\t  var el = e.target;\r\n\t  \r\n\t  oldValue = el.value;\r\n\t  oldCursor = el.selectionEnd;\r\n\t},\r\n\tinputHandler = function(e) {\r\n\t  var el = e.target,\r\n\t\t  newCursorPosition,\r\n\t\t  newValue = unmask(el.value)\r\n\t  ;\r\n\t  \r\n\t  if(newValue.match(regex)) {\r\n\t\tnewValue = mask(newValue);\r\n\t\t\r\n\t\tnewCursorPosition = oldCursor - checkSeparator(oldCursor, 4) + checkSeparator(oldCursor + (newValue.length - oldValue.length), 4) + (unmask(newValue).length - unmask(oldValue).length);\r\n\t\t\t\t\r\n\t\tif(newValue !== \"\") {\r\n\t\t  el.value = newValue;\r\n\t\t} else {\r\n\t\t  el.value = \"\";\r\n\t\t}\r\n\t  } else {\r\n\t\tel.value = oldValue;\r\n\t\tnewCursorPosition = oldCursor;\r\n\t  }\r\n\t  el.setSelectionRange(newCursorPosition, newCursorPosition);\r\n\t};\r\n\r\n\tinput.addEventListener('keydown', keydownHandler);\r\n\tinput.addEventListener('input', inputHandler);\r\n}\r\n\r\nexport default digitpretify;\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/input/input.js"],"sourceRoot":""}