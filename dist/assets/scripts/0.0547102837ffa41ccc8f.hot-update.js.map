{"version":3,"sources":["webpack:///./app/blocks/input/input.js?c571"],"names":["digitpretify","inputs","document","querySelectorAll","oldValue","oldCursor","regex","RegExp","mask","value","output","i","length","shift","push","join","unmask","replace","checkSeparator","position","interval","Math","floor","keydownHandler","e","el","target","selectionEnd","inputHandler","newCursorPosition","newValue","match","setSelectionRange","forEach","input","addEventListener"],"mappings":";;;;;;;;;;AAAA,KAAMA,eAAe,SAAfA,YAAe,GAAM;AAC1B,MAAMC,SAASC,SAASC,gBAAT,CAA0B,sBAA1B,CAAf;AACA,MAAIC,iBAAJ;AACA,MAAIC,kBAAJ;AACA,MAAMC,QAAQ,IAAIC,MAAJ,CAAW,aAAX,CAAd;AACA,MAAMC,OAAO,SAAPA,IAAO,CAAUC,KAAV,EAAiB;AAC7B,OAAMC,SAAS,EAAf;AACA,QAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,MAAMG,MAA1B,EAAkCD,GAAlC,EAAuC;AACtC,QAAIA,MAAM,CAAN,IAAWA,IAAI,CAAJ,KAAU,CAAzB,EAA4B;AAC3BD,YAAOG,KAAP,CAAa,GAAb,EAD2B,CACR;AACnB;AACDH,WAAOI,IAAP,CAAYL,MAAME,CAAN,CAAZ;AACA;AACD,UAAOD,OAAOK,IAAP,CAAY,EAAZ,CAAP;AACA,GATD;;AAWA,MAAMC,SAAS,SAATA,MAAS,CAAUP,KAAV,EAAiB;AAC/B,OAAMC,SAASD,MAAMQ,OAAN,CAAc,IAAIV,MAAJ,CAAW,OAAX,EAAoB,GAApB,CAAd,EAAwC,EAAxC,CAAf,CAD+B,CAC6B;AAC5D,UAAOG,MAAP;AACA,GAHD;;AAKA,MAAMQ,iBAAiB,SAAjBA,cAAiB,CAAUC,QAAV,EAAoBC,QAApB,EAA8B;AACpD,UAAOC,KAAKC,KAAL,CAAWH,YAAYC,WAAW,CAAvB,CAAX,CAAP;AACA,GAFD;;AAIA,MAAMG,iBAAiB,SAAjBA,cAAiB,CAAUC,CAAV,EAAa;AACnC,OAAMC,KAAKD,EAAEE,MAAb;;AAEAtB,cAAWqB,GAAGhB,KAAd;AACAJ,eAAYoB,GAAGE,YAAf;AACA,GALD;;AAOA,MAAMC,eAAe,SAAfA,YAAe,CAAUJ,CAAV,EAAa;AACjC,OAAMC,KAAKD,EAAEE,MAAb;AACA,OAAIG,0BAAJ;AACA,OAAIC,WAAWd,OAAOS,GAAGhB,KAAV,CAAf;;AAEA,OAAKqB,SAASC,KAAT,CAAezB,KAAf,CAAL,EAA6B;AAC5BwB,eAAWtB,KAAKsB,QAAL,CAAX;;AAEAD,wBAAoBxB,YAAYa,eAAeb,SAAf,EAA0B,CAA1B,CAAZ,GAA2Ca,eAAeb,aAAayB,SAASlB,MAAT,GAAkBR,SAASQ,MAAxC,CAAf,EAAgE,CAAhE,CAA3C,IAAiHI,OAAOc,QAAP,EAAiBlB,MAAjB,GAA0BI,OAAOZ,QAAP,EAAiBQ,MAA5J,CAApB;;AAEA,QAAKkB,aAAa,EAAlB,EAAuB;AACtBL,QAAGhB,KAAH,GAAWqB,QAAX;AACA,KAFD,MAIA;AACCL,QAAGhB,KAAH,GAAW,EAAX;AACA;AACD,IAZD,MAcA;AACCgB,OAAGhB,KAAH,GAAWL,QAAX;AACAyB,wBAAoBxB,SAApB;AACA;AACDoB,MAAGO,iBAAH,CAAqBH,iBAArB,EAAwCA,iBAAxC;AACA,GAxBD;;AA0BA5B,SAAOgC,OAAP,CAAgB,iBAAS;AACxBC,SAAMC,gBAAN,CAAuB,SAAvB,EAAkCZ,cAAlC;AACAW,SAAMC,gBAAN,CAAuB,OAAvB,EAAgCP,YAAhC;AACA,GAHD;AAIA,EA9DD;;mBAgEe5B,Y","file":"0.0547102837ffa41ccc8f.hot-update.js","sourcesContent":["const digitpretify = () => {\r\n\tconst inputs = document.querySelectorAll('.input_digit-pretify');\r\n\tlet oldValue;\r\n\tlet oldCursor;\r\n\tconst regex = new RegExp(/^\\d{0,16}$/g);\r\n\tconst mask = function (value) {\r\n\t\tconst output = [];\r\n\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\tif (i !== 0 && i % 3 === 0) {\r\n\t\t\t\toutput.shift(' '); // add the separator\r\n\t\t\t}\r\n\t\t\toutput.push(value[i]);\r\n\t\t}\r\n\t\treturn output.join('');\r\n\t};\r\n\r\n\tconst unmask = function (value) {\r\n\t\tconst output = value.replace(new RegExp(/[^\\d]/, 'g'), ''); // Remove every non-digit character\r\n\t\treturn output;\r\n\t};\r\n\r\n\tconst checkSeparator = function (position, interval) {\r\n\t\treturn Math.floor(position / (interval + 1));\r\n\t};\r\n\r\n\tconst keydownHandler = function (e) {\r\n\t\tconst el = e.target;\r\n\r\n\t\toldValue = el.value;\r\n\t\toldCursor = el.selectionEnd;\r\n\t};\r\n\r\n\tconst inputHandler = function (e) {\r\n\t\tconst el = e.target;\r\n\t\tlet newCursorPosition;\r\n\t\tlet newValue = unmask(el.value);\r\n\r\n\t\tif ( newValue.match(regex) ) {\r\n\t\t\tnewValue = mask(newValue);\r\n\r\n\t\t\tnewCursorPosition = oldCursor - checkSeparator(oldCursor, 3) + checkSeparator(oldCursor + (newValue.length - oldValue.length), 3) + (unmask(newValue).length - unmask(oldValue).length);\r\n\r\n\t\t\tif ( newValue !== '' ) {\r\n\t\t\t\tel.value = newValue;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tel.value = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tel.value = oldValue;\r\n\t\t\tnewCursorPosition = oldCursor;\r\n\t\t}\r\n\t\tel.setSelectionRange(newCursorPosition, newCursorPosition);\r\n\t};\r\n\r\n\tinputs.forEach( input => {\r\n\t\tinput.addEventListener('keydown', keydownHandler);\r\n\t\tinput.addEventListener('input', inputHandler);\r\n\t});\r\n};\r\n\r\nexport default digitpretify;\n\n\n// WEBPACK FOOTER //\n// ./app/blocks/input/input.js"],"sourceRoot":""}