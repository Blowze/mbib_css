include ../tile/tile
include ../action/action

mixin card-list(data)
	+b.card-list&attributes(attributes)
		
		+e.UL.list
			each item in data
				if item.mark
					-var mark = '_mark'
				else 
					-var mark = ''
				+e.item(class=mark)
					+e.thumb
						+tile(item)
					+e.about
						+e.H3.name 
							+e.A.name-link(href="")
								if item.mark
									+icon('star', false).name-icon
								| #{item.name}
						+e.about-item
							+e.SPAN.price #{item.price} ₽
							if item.feature.rightDrive
								+e.SPAN.remark Правый руль
						+e.about-item
							+e.P.feature
								| #{item.feature.engineCapacity} #{item.feature.transmission} (#{item.feature.enginePower} лс) #{item.feature.engineType},
								| #{item.feature.drive} привод, #{item.feature.body}, #{item.feature.color} 
								br
								| #{item.feature.year}, #{item.feature.mileage}&nbsp;км
						+e.P.comment
							| #{item.comment}
						+e.about-item
							+e.SPAN.place #{item.inspect.city},
							+e.SPAN.pubdate #{item.pubdate}
					+e.contact
						+e.author #{item.author}
						+e.A.phone(href="")
							+icon('phone', false).phone-icon
							if item.contact.show
								+e.phone-number #{item.contact.phone}
							else
								+e.phone-button(type="button") Показать телефон
							if item.inspect.show
								+e.phone-remark Место осмотра: #{item.inspect.city}
							if item.contact.callStart
								+e.phone-remark Звоните с #{item.contact.callStart} до #{item.contact.callEnd}
					+e.action
						+action._only-icon